<?xml version="1.0" encoding="UTF-8"?>
<api context="/salesforce" name="SalesforceAPI" xmlns="http://ws.apache.org/ns/synapse">
	<resource methods="GET" uri-template="/accounts">
		<inSequence>
			<log category="INFO" level="simple">
				<property name="INCOMING #1" value="INCOMING #1" />
			</log>
			<script language="js"> <![CDATA[
            mc.setProperty("SALESFORCE_HOST_NAME",java.lang.System.getenv("SALESFORCE_HOST_NAME"));
			 mc.setProperty("SALESFORCE_TOKEN_ENDPOINT",java.lang.System.getenv("SALESFORCE_TOKEN_ENDPOINT"));
			  mc.setProperty("SALESFORCE_CLIENT_SECRET",java.lang.System.getenv("SALESFORCE_CLIENT_SECRET"));
			   mc.setProperty("SALESFORCE_CLIENT_ID",java.lang.System.getenv("SALESFORCE_CLIENT_ID"));
			    mc.setProperty("SALESFORCE_API_URL",java.lang.System.getenv("SALESFORCE_API_URL"));
				mc.setProperty("SALESFORCE_USERNAME",java.lang.System.getenv("SALESFORCE_USERNAME"));
				mc.setProperty("SALESFORCE_PASSWORD",java.lang.System.getenv("SALESFORCE_PASSWORD"));
        ]]>
    </script>
			<salesforcerest.query configKey="Salesforce_connector">
				<queryString>select id from Account</queryString>
			</salesforcerest.query>
			<log category="INFO" level="simple">
				<property name="OUTGOING #2" value="OUTGOING #2" />
			</log>
			<respond />
		</inSequence>
		<faultSequence>
			<log category="INFO" level="full" />
		</faultSequence>
	</resource>
</api>